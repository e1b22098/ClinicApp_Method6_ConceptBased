<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>予約詳細 - 診療予約管理システム</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/patient/dashboard">診療予約管理システム</a>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h4>予約詳細</h4>
            </div>
            <div class="card-body">
                <dl class="row">
                    <dt class="col-sm-3">予約日</dt>
                    <dd class="col-sm-9" th:text="${#temporals.format(booking.bookingDate, 'yyyy年MM月dd日')}"></dd>
                    
                    <dt class="col-sm-3">予約時間</dt>
                    <dd class="col-sm-9" th:text="${#temporals.format(booking.bookingTime, 'HH:mm')}"></dd>
                    
                    <dt class="col-sm-3">ステータス</dt>
                    <dd class="col-sm-9">
                        <span class="badge bg-success" th:if="${booking.status == 'ACTIVE'}">有効</span>
                        <span class="badge bg-secondary" th:if="${booking.status == 'CANCELLED'}">キャンセル済み</span>
                    </dd>
                    
                    <dt class="col-sm-3">作成日時</dt>
                    <dd class="col-sm-9" th:text="${#temporals.format(booking.createdAt, 'yyyy年MM月dd日')}"></dd>
                </dl>
                <div th:if="${booking.status == 'ACTIVE'}">
                    <form th:action="@{/patient/booking/{id}/cancel(id=${booking.bookingId})}" method="post" class="d-inline">
                        <button type="submit" class="btn btn-danger">予約をキャンセル</button>
                    </form>
                </div>
                <a href="/patient/dashboard" class="btn btn-secondary">戻る</a>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
